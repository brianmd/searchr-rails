:css
  body {background-color: white; background-image: none; margin: 15px 0px 0px 15px}
  h1 {text-align: center; font-size: 200%}
  ul {list-style: none;}
  label {font-weight: bold;}
  textarea,input {width: 300px}
  table {border-spacing: 0.5rem;}
  td {text-align: center}
  label {font-weight: bold; display: inline}
  a:hover, a:visited, a:link, a:active { text-decoration: none; color: blue }

  input[type=submit] {text-align: center; font-size: 2em; font-family: verdana; background-color: #000033; color: #639DBC; padding: 5px;}

  .search_params td {text-align: center; padding: 15px; vertical-align: top}

  table.explanation, table.search_params {margin-bottom: 15px;}

  .blue_background {background-color: #639DBC;}
  .blue_background_font {color: white;}
  .dropshadow {-webkit-box-shadow: 7px 7px 5px 0px rgba(50, 50, 50, 0.75); -moz-box-shadow: 7px 7px 5px 0px rgba(50, 50, 50, 0.75); box-shadow: 7px 7px 5px 0px rgba(50, 50, 50, 0.75);}

  .explanation td {text-align: center; padding: 0px 0px 3px 6px;}

View
%a{ href: result.query.url, target: '_blank', style: 'colorrr: red' }<
  Raw Search Results
from Solr
%br
%b
  Parameters:
= result.parameters
%br
%b
  = "Found #{result.num_matches} items (showing rows #{result.start_row}-#{result.end_row})"
%br
/%a{href: @search_url, title: 'Search Url', target: '_'}
/  Open search in New Window

%hr
%ul
  - result.documents.each do |doc|
    %li
      %b
        = result.explanations[doc['id']][0][0]
      %br
      %br
      %label Product:
      - if doc['id'].start_with? 'Product '
        = link_to product_path(Product(doc['id'].split(' ').last)), target: '_' do
          = doc['name_texts']
      - else
        = doc['id']
      %b
        %table.explanation.blue_background.dropshadow
          %tr
            - n = -1
            - result.explanations[doc['id']][0][2].each do |term|
              - n = n + 1 if term=='('
              %td{style: "padding-top: #{n*50}px"}
                - if term.class==Array
                  = term[0]
                  %br
                  = term[1]
                - else
                  = term
              - n = n - 1 if term==')'

      - show_fields.each do |id|
        %label
          = "#{id.capitalize}: "
        = doc[id.to_s]
        %br

      - if false
        %br
        = result.explanations[doc['id']][0][2]
        %br
        %br
        = result.explanations[doc['id']][0][0]
        %br
        %br
        = result.explanations[doc['id']][0][1]
      %hr
/%br
/%br
/%label Facet Fields:
/= render 'facet_counts', counts: @facet_fields
/
/%br
/%label Facet Ranges:
/= render 'facet_counts', counts: @facet_ranges
// = @facet_ranges
